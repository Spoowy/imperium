(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{120:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return a})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return d}));var r=t(1),i=t(6),o=(t(138),t(137)),c={id:"imperiumServer",title:"ImperiumServer",sidebar_label:"ImperiumServer"},a={id:"old/imperiumServer",title:"ImperiumServer",description:"The instance of the current ImperiumServer is passed down to a lot of the module definition functions.",source:"@site/../docs/old/ImperiumServer.md",permalink:"/imperium/docs/old/imperiumServer",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/../docs/old/ImperiumServer.md",sidebar_label:"ImperiumServer"},s=[{value:"constructor(config: ImperiumServerConfig)",id:"constructorconfig-imperiumserverconfig",children:[]},{value:"async start()",id:"async-start",children:[]},{value:"async stop()",id:"async-stop",children:[]},{value:"connectors",id:"connectors",children:[]},{value:"modules",id:"modules",children:[]},{value:"environment",id:"environment-1",children:[]},{value:"expressApp",id:"expressapp",children:[]},{value:"httpServer",id:"httpserver",children:[]},{value:"middleware",id:"middleware",children:[]},{value:"initialContextManager",id:"initialcontextmanager",children:[]}],l={rightToc:s};function d(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The instance of the current ImperiumServer is passed down to a lot of the module definition functions.\nImperiumServer extends the ",Object(o.b)("inlineCode",{parentName:"p"},"IImperiumServer"),"interface. "),Object(o.b)("h2",{id:"constructorconfig-imperiumserverconfig"},"constructor(config: ImperiumServerConfig)"),Object(o.b)("p",null,"Creates a new instance of an Imperium server."),Object(o.b)("p",null,"The config object is comprised of the following keys:"),Object(o.b)("h4",{id:"connectors-imperiumconnectors"},Object(o.b)("inlineCode",{parentName:"h4"},"connectors: ImperiumConnectors")),Object(o.b)("p",null,"An instance of an ",Object(o.b)("inlineCode",{parentName:"p"},"ImperiumConnectors")," object."),Object(o.b)("h4",{id:"servermodules-imperiumservermodulefunction"},Object(o.b)("inlineCode",{parentName:"h4"},"serverModules: ImperiumServerModuleFunction[]")),Object(o.b)("p",null,"An array of ",Object(o.b)("inlineCode",{parentName:"p"},"ImperiumServerModuleFunction"),"'s. These are functions that return the server module definitions."),Object(o.b)("h4",{id:"environment"},Object(o.b)("inlineCode",{parentName:"h4"},"environment")),Object(o.b)("p",null,"A function that returns an ",Object(o.b)("inlineCode",{parentName:"p"},"ImperiumEnvironment"),' object. This object is merged together and can be used\nto define server-wide environment variables or other "global" data. '),Object(o.b)("h2",{id:"async-start"},"async start()"),Object(o.b)("p",null,"This starts the server. Returns the instance of the ",Object(o.b)("inlineCode",{parentName:"p"},"ImperiumServer")," object."),Object(o.b)("h2",{id:"async-stop"},"async stop()"),Object(o.b)("p",null,"This stops the server, closing any open connectors."),Object(o.b)("h2",{id:"connectors"},"connectors"),Object(o.b)("p",null,"An object that holds all the connectors that have been created. ie. ",Object(o.b)("inlineCode",{parentName:"p"},"connectors.mongo"),"."),Object(o.b)("h2",{id:"modules"},"modules"),Object(o.b)("p",null,"An object that holds all of the server module definitions."),Object(o.b)("h2",{id:"environment-1"},"environment"),Object(o.b)("p",null,"An object that holds the server-wide environment variables."),Object(o.b)("h2",{id:"expressapp"},"expressApp"),Object(o.b)("p",null,"The Express app."),Object(o.b)("h2",{id:"httpserver"},"httpServer"),Object(o.b)("p",null,"The HTTP server."),Object(o.b)("h2",{id:"middleware"},"middleware"),Object(o.b)("p",null,"An object that holds all the available middleware functions from all modules."),Object(o.b)("h2",{id:"initialcontextmanager"},"initialContextManager"),Object(o.b)("p",null,"The initial ContextManager used for startup."))}d.isMDXComponent=!0}}]);